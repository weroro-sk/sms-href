(()=>{"use strict";const t="sms:",e=/^sms:/i,n="body=",i=/.body=/i,r=t=>null!==typeof t&&"object"==typeof t,s=(t,e)=>{if(r(t)&&r(e))for(const n in e){const i=e[n];r(i)?s(t[n],i):t[n]=i}};(new class{constructor(t){this.t={allow:{mobile:!0,tablet:!0,facebook:!0},separator:null,encode:!0},this.i=null,s(this.t,t),this.i=this.o()}fixAll(n=document){return new Promise(((i,r)=>{if(!this.i)return r(501);const s=n?.querySelectorAll(`a[href^="${t}"]`);if(!s?.length)return r(404);s.forEach((async t=>{const n=t.href.replace(e,"")?.trim();n&&(t.href=await this.fixValue(n,this.t.encode))})),i(200)}))}async fixValue(r,s){if("string"!=typeof this.i||!i.test(r))return r;"boolean"!=typeof s&&(s=this.t.encode),s&&(r=this.u(r));return(e.test(r)?"":t)+r?.replace(/&amp;/gi,"&").replace(i,this.i+n)}async create(t,e){const i=t?.phone?.toString().trim(),r=t?.message?.trim();if(!i&&!r)throw new TypeError("Phone number or message must be provided.");let s="";return i&&(s+=i),r&&(s+="?"+n+r),this.fixValue(s,e)}l(t){const e=t.match(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i)?.[1]?.replace("undefined","3_2").replace("_",".").replace("_","");if(!e||isNaN(+e))return-1;const n=parseInt(e),i=/ipad/i.test(t);return this.h(n,i)}p(t){if(!/android/i.test(t))return-1;const e=!/mobile/i.test(t);return this.h(1,e)}m(t){return/fba[nv]/gi.test(t)?1:-1}u(t){if(t.search(n)<n.length)return t;const e=t.split(n);return e.shift()+n+encodeURIComponent(decodeURIComponent(e.join(n)))}h(t,e){const n=this.t.allow;return n.mobile&&!n.tablet?e?-1:t:n.tablet&&!n.mobile?e?t:-1:t}o(){const t=this.t;if(t.separator?.trim())return t.separator;const e=navigator.userAgent;if(!t.allow?.facebook&&this.m(e)>0)return null;if(this.p(e)>0)return"?";const n=this.l(e);return n>0?n<=7?";":"&":null}}).fixAll().catch()})();
//# sourceMappingURL=size_measuring.js.map