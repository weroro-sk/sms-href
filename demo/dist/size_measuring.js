(()=>{"use strict";const t=t=>"object"==typeof t&&null!==t,e=(n,i)=>{if(t(n)&&t(i))for(let r in i){const s=Reflect.get(i,r);t(s)?e(Reflect.get(n,r),s):Reflect.set(n,r,s)}},n="sms:",i=/^sms:/i,r="body=",s=/.body=/i;(new class{constructor(t){this.t={allow:{mobile:!0,tablet:!0,facebook:!0},separator:null,encode:!0},this.i=null,e(this.t,t),this.i=this.o()}fixAll(t=document){return new Promise(((e,r)=>{if(!this.i)return r(501);const s=t?.querySelectorAll(`a[href^="${n}"]`);if(!s?.length)return r(404);s.forEach((async t=>{const e=t.href.replace(i,"")?.trim();e&&(t.href=await this.fixValue(e,this.t.encode))})),e(200)}))}async fixValue(t,e){if("string"!=typeof this.i||!s.test(t))return t;"boolean"!=typeof e&&(e=this.t.encode),e&&(t=this.l(t));return(i.test(t)?"":n)+t?.replace(/&amp;/gi,"&").replace(s,this.i+r)}async create(t,e){const n=t?.phone?.toString().trim(),i=t?.message?.trim();if(!n&&!i)throw new TypeError("Phone number or message must be provided.");let s="";return n&&(s+=n),i&&(s+="?"+r+i),this.fixValue(s,e)}u(t){const e=t.match(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i)?.[1]?.replace("undefined","3_2").replace("_",".").replace("_","");if(!e||isNaN(+e))return-1;const n=parseInt(e),i=/ipad/i.test(t);return this.h(n,i)}p(t){if(!/android/i.test(t))return-1;const e=!/mobile/i.test(t);return this.h(1,e)}m(t){return/fba[nv]/gi.test(t)?1:-1}l(t){if(t.search(r)<r.length)return t;const e=t.split(r);return e.shift()+r+encodeURIComponent(decodeURIComponent(e.join(r)))}h(t,e){const n=this.t.allow;return n.mobile&&!n.tablet?e?-1:t:n.tablet&&!n.mobile?e?t:-1:t}o(){const t=this.t;if(t.separator?.trim())return t.separator;const e=navigator.userAgent;if(!t.allow?.facebook&&this.m(e)>0)return null;if(this.p(e)>0)return"?";const n=this.u(e);return n>0?n<=7?";":"&":null}}).fixAll().catch()})();
//# sourceMappingURL=size_measuring.js.map