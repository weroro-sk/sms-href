(()=>{"use strict";const t="sms:",e=/^sms:/i,i="body=",n=/.body=/i,r=t=>null!==typeof t&&"object"==typeof t,s=(t,e)=>{if(r(t)&&r(e))for(const i in e){const n=e[i];r(n)?s(t[i],n):t[i]=n}};(new class{constructor(t){this.t={allow:{mobile:!0,tablet:!0,facebook:!0},separator:null,encode:!0},this.i=null,s(this.t,t),this.i=this.o()}fixAll(i=document){return new Promise(((n,r)=>{if(!this.i)return r(501);const s=i?.querySelectorAll(`a[href^="${t}"]`);if(!s?.length)return r(404);s.forEach((async t=>{const i=t.href.replace(e,"")?.trim();i&&(t.href=await this.fixValue(i,this.t.encode))})),n(200)}))}async fixValue(r,s){if("string"!=typeof this.i||!n.test(r))return r;"boolean"!=typeof s&&(s=this.t.encode),s&&(r=this.u(r));return(e.test(r)?"":t)+r?.replace(/&amp;/gi,"&").replace(n,this.i+i)}async create(t,e){const n=t?.phone?.toString().trim(),r=t?.message?.trim();if(!n&&!r)throw new TypeError("Phone number or message must be provided.");let s="";return n&&(s+=n),r&&(s+="?"+i+r),this.fixValue(s,e)}l(t){const e=t.match(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i)?.[1]?.replace("undefined","3_2").replace("_",".").replace("_","");if(!e||isNaN(+e))return-1;const i=parseInt(e),n=/ipad/i.test(t);return this.h(i,n)}p(t){if(!/android/i.test(t))return-1;const e=!/mobile/i.test(t);return this.h(1,e)}m(t){return/fba[nv]/gi.test(t)?1:-1}u(t){if(t.search(i)<i.length)return t;const e=t.split(i);return e.shift()+i+encodeURIComponent(decodeURIComponent(e.join(i)))}h(t,e){const i=this.t.allow;return i.mobile&&!i.tablet?e?-1:t:i.tablet&&!i.mobile?e?t:-1:t}o(){if(this.t.separator?.trim())return this.t.separator;const t=navigator.userAgent;if(!this.t.allow?.facebook&&this.m(t)>0)return null;if(this.p(t)>0)return"?";const e=this.l(t);return e>0?e<=7?";":"&":null}}).fixAll().catch()})();
//# sourceMappingURL=size_measuring.js.map